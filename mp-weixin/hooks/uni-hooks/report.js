"use strict";var e=Object.defineProperty,a=(a,i,t)=>(((a,i,t)=>{i in a?e(a,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[i]=t})(a,"symbol"!=typeof i?i+"":i,t),t);const i=require("../../common/vendor.js"),t=require("../../utils/config/env.js");class n{constructor(e){a(this,"config"),a(this,"env"),this.config=e,this.env=e.envEvent}getConfig(){return{metaInfo:{appKey:this.config.appKey,trackDomain:this.config.trackDomain,_hold:"BLOCK",DEBUG:!("true"!=t.useConfig().reportLog)||(console.log("%c请在.env文件中配置VITE_REPORT_LOG=true，开启埋点日志","color: skyblue; font-size: 16px; font-weight: bold;"),!1),"max-queue-count":1,"aplus_queue-mini-requests-limit":1,"aplus_queue-request-timeout":3e3,pageConfig:{"pages/v1/index/index":{pageName:"a_page_home_view",regRule:/pages\/v1\/index\/index/,skipMe:!0},"pages/v1/device-type/index":{pageName:"a_page_locker_type_view",regRule:/pages\/v1\/device-type\/index/,skipMe:!0},"sub-pages/common/device-nearby/index":{pageName:"a_page_device_nearby_view",regRule:/sub-pages\/common\/device-nearby\/index/,skipMe:!0},"pages/order/open/index":{pageName:"a_page_open_view",regRule:/pages\/order\/open\/index/,skipMe:!0},"sub-pages/order/locker/index":{pageName:"a_page_change_locker_view",regRule:/sub-pages\/order\/locker\/index/,skipMe:!0},"pages/order/result/index":{pageName:"a_page_result_view",regRule:/pages\/order\/result\/index/,skipMe:!0},"pages/v1/deposit/index":{pageName:"a_page_deposit_view",regRule:/pages\/v1\/deposit\/index/,skipMe:!0},"sub-pages/me/withdraw/index":{pageName:"a_page_withdraw_view",regRule:/sub-pages\/me\/withdraw\/index/,skipMe:!0},"sub-pages/activity-vip/webview":{pageName:"a_page_vip_view",regRule:/sub-pages\/activity-vip\/webview/,skipMe:!0},"sub-pages/activity-vip/buy":{pageName:"a_page_vip_buy_view",regRule:/sub-pages\/activity-vip\/buy/,skipMe:!0},"sub-pages/activity-vip/buy-result":{pageName:"a_page_vip_buy_result_view",regRule:/sub-pages\/activity-vip\/buy-result/,skipMe:!0}}}}}start(e){this.addMetaInfo({...e}),this.addMetaInfo({_hold:"START"});if(i.index.canIUse("getAccountInfoSync")&&i.index.getAccountInfoSync){const e=i.index.getAccountInfoSync(),{version:a}=e.miniProgram;this.addGlobal({mini_client_version:a||"0.0.0"})}this.addGlobal({platform:this.config.platform,app_id:this.config.appId})}addMetaInfo(e){for(let a in e)this.env.aplus_queue.push({action:"aplus.setMetaInfo",arguments:[a,e[a]]})}addGlobal(e){var a,i;const t=null==(i=null==(a=this.env.aplus)?void 0:a.getMetaInfo)?void 0:i.call(a,"globalproperty");this.env.aplus_queue.push({action:"aplus.appendMetaInfo",arguments:["globalproperty",{...t,...e}]})}addClick(e,a){try{let i={};i="object"==typeof a&&null!==a?a:{content:a},this.env.aplus_queue.push({action:"aplus.record",arguments:[e,"CLK",{...i}]})}catch(i){}}addOther(e,a){try{let i={};i="object"==typeof a&&null!==a?a:{content:a},this.env.aplus_queue.push({action:"aplus.record",arguments:[e,"OTHER",{...i}]})}catch(i){}}addExp(e,a){try{let i={};i="object"==typeof a&&null!==a?a:{content:a},this.env.aplus_queue.push({action:"aplus.record",arguments:[e,"EXP",{...i}]})}catch(i){}}commonClk(e,a={}){this.addClick("a_common_main_clk",{ele_name:e,...a})}commonExp(e,a={}){this.addExp("a_common_main_exp",{ele_name:e,...a})}info(e){this.addOther("info",e)}warn(e){this.addOther("warn",e)}error(e){this.addOther("error",e)}addPage(e,a={is_auto:!1}){this.env.aplus_queue.push({action:"aplus.sendPV",arguments:[a,e]})}}exports.createReport=function(e){return new n(e)};
