"use strict";const e=require("../../common/vendor.js"),o=require("../../local/index.js"),n=require("./new-dialog.js");require("../../store/modules/app.js"),require("../../store/modules/device.js"),require("../../store/modules/order.js");const s=require("../../store/modules/user.js");require("../../utils/uniAsync.js");const t=require("../../utils/url.js");require("../../utils/wx.log.js"),require("../../utils/config/index.js"),require("./dialog.js"),require("./request.js");const r=require("./wechat.js");require("../useCountryCode.js"),exports.checkVersionUpdate=function(){const n=e.index.getUpdateManager();n.onCheckForUpdate((function(e){console.log(o.t("hooks.uni-hooks.common.16")+"ï¼š"+e.hasUpdate)})),n.onUpdateReady((function(){e.index.showModal({title:o.t("hooks.uni-hooks.common.17"),content:o.t("hooks.uni-hooks.common.18"),success(e){e.confirm&&n.applyUpdate()}})})),n.onUpdateFailed((function(){console.log(o.t("hooks.uni-hooks.common.23"))}))},exports.handleManualScanInfo=function(e,r){let i=t.getQueryParamsPages(e);return e&&e.includes("weixin.qq.com")&&(i={id:e,page:"home"}),i.page!==r?void n.alert(o.t("hooks.uni-hooks.unite.1")):(s.useUserStore().setSceneInfo({fetch_type:i.fetch_type,page:i.page},!1),i)},exports.makePhoneCall=function(o){return new Promise(((n,s)=>{e.index.makePhoneCall({phoneNumber:o,success:n,fail:s})}))},exports.useSceneInfo=function(e,o=!1){var n;const s=r.envEvent.getScene(e),{scene:t}=e;return{...s,inOfficialScene:(null==(n=r.envEvent)?void 0:n.officialAccountScene(o)).includes(t),hotScene:o}};
