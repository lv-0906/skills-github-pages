"use strict";const e=require("../common/vendor.js");require("../local/index.js"),require("./uni-hooks/new-dialog.js"),require("../store/modules/app.js"),require("../store/modules/device.js"),require("../store/modules/order.js"),require("../store/modules/user.js"),require("../utils/uniAsync.js"),require("../utils/wx.log.js"),require("../utils/config/index.js"),require("./uni-hooks/dialog.js");const r=require("./uni-hooks/emitKey.js");require("./uni-hooks/request.js"),require("./uni-hooks/wechat.js"),require("./useCountryCode.js");exports.handleNavigateHook=()=>{const s=["sub-pages/me/order/index","sub-pages/order/pick/index","/sub-pages/v2/xd/order/index","/sub-pages/v2/xd/home/index"],i={"sub-pages/me/order/index":r.EMIT_REFRESH_ORDER,"sub-pages/order/pick/index":r.EMIT_REFRESH_PICK,"sub-pages/v2/xd/order/index":r.EMIT_REFRESH_JD_ORDER},o=e.ref(NaN),u=e.ref("");e.onLoad((()=>{n()}));const n=()=>{var e=getCurrentPages();const r=e.map((e=>null==e?void 0:e.route)).reverse().find((e=>e&&s.includes(e)));if(r){const s=e.length-e.findIndex((e=>(null==e?void 0:e.route)===r))-1;o.value=s,u.value=r}};return{navigatorBackDelta:o,navigatorBackPage:()=>{e.index.navigateBack({delta:o.value}),i[u.value]&&e.index.$emit(i[u.value]),e.index.$emit(r.EMIT_REFRESH_HOME)}}};
