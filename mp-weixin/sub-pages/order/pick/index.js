"use strict";const e=require("../../../common/vendor.js"),r=require("../../../local/index.js");require("../../../hooks/uni-hooks/new-dialog.js"),require("../../../store/modules/app.js"),require("../../../store/modules/device.js"),require("../../../store/modules/order.js"),require("../../../store/modules/user.js");const o=require("../../../const/order.js");require("../../../utils/uniAsync.js"),require("../../../utils/wx.log.js"),require("../../../utils/config/index.js");const s=require("../../../hooks/uni-hooks/dialog.js"),i=require("../../../hooks/uni-hooks/emitKey.js");require("../../../hooks/uni-hooks/request.js");const u=require("../../../hooks/uni-hooks/unite.js");require("../../../hooks/uni-hooks/wechat.js"),require("../../../hooks/useCountryCode.js");const n=require("../../../api/order.js");if(require("../../../shared/cache.js"),require("../../../const/cache.js"),require("../../../hooks/uni-hooks/cache.js"),require("../../../utils/config/env.js"),require("../../../const/platform.js"),require("../../../uni_modules/mot-utils/index.js"),require("../../../theme/hooks/useTheme.js"),require("../../../theme/hooks/themeConfig.js"),require("../../../theme/hooks/themeKeys.js"),require("../../../api/device.js"),require("../../../api/user.js"),require("../../../hooks/uni-hooks/router.js"),require("../../../hooks/usePromise.js"),require("../../../api/delivery.js"),require("../../../shared/device.js"),require("../../../const/common.js"),require("../../../utils/appEnterVerif.js"),require("../../../hooks/use-common.js"),require("../../../hooks/uni-hooks/loading.js"),require("../../../hooks/uni-hooks/common.js"),require("../../../utils/url.js"),require("../../../hooks/uni-hooks/report.js"),require("../../../api/data.js"),!Array){e.resolveComponent("mot-modal")()}Math||(a+t+(()=>"../../../uni_modules/mot-modal/components/mot-modal/mot-modal.js"))();const t=()=>"./components/empty.js",a=()=>"./components/order.js",d=e.defineComponent({__name:"index",setup(t){const a=e.ref(),d=e.ref(""),c=e.reactive({orders:[]});e.onLoad((e=>{const{orderId:r,from:o}=e||{};d.value=o||"",j(!1,r)})),e.onShow((()=>{const o="jd"===d.value||"jd_again"===d.value?"订单":r.t("order.pick.title");u.unite.setNavigationBarTitle(o),e.index.$once(i.EMIT_REFRESH_PICK,(()=>{j()}))})),e.onPullDownRefresh((()=>{j(!0)}));const j=async(e=!1,r)=>{const s={limit:100,status:o.OrderStatusEnum.Progressing};"jd"!==d.value&&"jd_again"!==d.value||(s.site_business_model="locker_jd_express",s.is_pre_create=!1),r&&(s.id=r),c.orders=await n.lockerOrderApi.find(s).finally((()=>{l(e)}))},l=o=>{o&&(e.index.stopPullDownRefresh(),s.toast(r.t("pages.person.index.7")))},{orders:h}=e.toRefs(c),m=e.ref();return(r,o)=>e.e({a:e.unref(h).length>0},e.unref(h).length>0?{b:e.sr(a,"4f8aca0d-0",{k:"pickOrderRef"}),c:e.o(j),d:e.p({orders:e.unref(h),from:e.unref(d)})}:{e:e.p({from:e.unref(d)})},{f:e.sr(m,"4f8aca0d-2",{k:"ModalRef"}),g:e.p({id:"ModalRef"})})}});wx.createPage(d);
