"use strict";const e=require("../../../common/vendor.js"),s=require("../../../local/index.js");require("../../../hooks/uni-hooks/new-dialog.js"),require("../../../store/modules/app.js"),require("../../../store/modules/device.js"),require("../../../store/modules/order.js"),require("../../../store/modules/user.js"),require("../../../utils/uniAsync.js"),require("../../../utils/wx.log.js"),require("../../../utils/config/index.js");const o=require("../../../hooks/uni-hooks/dialog.js");require("../../../hooks/uni-hooks/request.js"),require("../../../hooks/uni-hooks/wechat.js");const r=require("../../../hooks/useUpload.js");require("../../../hooks/useCountryCode.js");exports.useImageUpload=()=>{const u=e.ref([]);return{selectImage:async e=>{const{tempFilePaths:s}=e;u.value=[...u.value,...s]},deleteImage:async e=>{const{tempFilePath:s}=e;u.value=u.value.filter((e=>e!==s))},uploadImageFail:async e=>{o.dialog.toast(s.t("sub-pages.order.ten.hook.2"))},fileList:u,isHasImage:e=>!(e&&u.value.length<1)||(o.dialog.toast(s.t("sub-pages.order.ten.hook.4")),!1),uploadImgsPromises:()=>{const e=[];for(const s of u.value)e.push(r.useUploadImage(s));return e}}};
