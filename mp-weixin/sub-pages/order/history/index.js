"use strict";const e=require("../../../common/vendor.js"),r=require("../../../local/index.js");require("../../../hooks/uni-hooks/new-dialog.js"),require("../../../store/modules/app.js"),require("../../../store/modules/device.js"),require("../../../store/modules/order.js"),require("../../../store/modules/user.js");const s=require("../../../utils/dayjs.js"),o=require("../../../utils/format.js"),i=require("../../../const/order.js");require("../../../utils/uniAsync.js"),require("../../../utils/wx.log.js"),require("../../../utils/config/index.js"),require("../../../hooks/uni-hooks/dialog.js"),require("../../../hooks/uni-hooks/request.js");const t=require("../../../hooks/uni-hooks/unite.js");require("../../../hooks/uni-hooks/wechat.js");const u=require("../../../hooks/usePagination.js");require("../../../hooks/useCountryCode.js");const n=require("../../../hooks/use-mix.js"),a=require("../../../api/order.js");if(require("../../../shared/cache.js"),require("../../../const/cache.js"),require("../../../hooks/uni-hooks/cache.js"),require("../../../utils/config/env.js"),require("../../../const/platform.js"),require("../../../uni_modules/mot-utils/index.js"),require("../../../theme/hooks/useTheme.js"),require("../../../theme/hooks/themeConfig.js"),require("../../../theme/hooks/themeKeys.js"),require("../../../api/device.js"),require("../../../api/user.js"),require("../../../hooks/uni-hooks/router.js"),require("../../../hooks/usePromise.js"),require("../../../api/delivery.js"),require("../../../shared/device.js"),require("../../../const/common.js"),require("../../../utils/appEnterVerif.js"),require("../../../hooks/use-common.js"),require("../../../hooks/uni-hooks/loading.js"),require("../../../hooks/uni-hooks/common.js"),require("../../../utils/url.js"),require("../../../hooks/uni-hooks/report.js"),require("../../../api/data.js"),require("../../../utils/precision.js"),!Array){e.resolveComponent("mot-modal")()}Math;const d=e.defineComponent({__name:"index",setup(d){const{query:c,useSkip:m}=u.usePagination(),l=e.reactive({orders:[]});e.onLoad((()=>{j(),t.unite.setNavigationBarTitle(r.t("pages.json.38"))}));const j=async()=>{if(c.lastPage||c.loading)return;c.loading=!0;const e=await a.lockerOrderApi.find({status:i.OrderStatusEnum.Done,limit:c.limit,skip:m()}).finally((()=>{c.loading=!1}));e.length===c.limit?c.page+=1:c.lastPage=!0,l.orders=l.orders.concat(e)};e.onReachBottom((()=>{j()}));const{orders:q}=e.toRefs(l),h=e.ref();return(t,u)=>({a:e.f(e.unref(q),((t,u,a)=>({a:e.t(t.status===e.unref(i.OrderStatusEnum).Done?e.unref(r.t)("sub-pages.me.order.components.order.1"):e.unref(r.t)("order.detail.status.processing")),b:e.t(e.unref(o.numberToZhTime)(t.used_time)),c:e.t(e.unref(n.useToYuan)(t.payed)),d:t.status===e.unref(i.OrderStatusEnum).Done?1:"",e:e.t(t.id),f:e.t(t.info.site_name),g:e.t(e.unref(o.fullLockerName)(t.info.locker_name,t.info.cabinet_address)),h:e.t(e.unref(s.format)(t.start_at)),i:e.t(e.unref(s.format)(t.end_at)),j:t.id,k:`/sub-pages/order/detail/index?orderId=${t.id}`}))),b:e.t(e.unref(r.t)("order.detail.order_no")),c:e.t(e.unref(r.t)("order.detail.site_name")),d:e.t(e.unref(r.t)("order.detail.cabinet_info")),e:e.t(e.unref(r.t)("common.unit.no")),f:e.t(e.unref(r.t)("sub-pages.me.order.components.order.9")),g:e.t(e.unref(r.t)("order.detail.end_at")),h:e.t(e.unref(c).lastPage?e.unref(r.t)("sub-pages.me.order.index.8"):e.unref(r.t)("sub-pages.me.order.index.3")),i:e.sr(h,"871de972-0",{k:"ModalRef"}),j:e.p({id:"ModalRef"})})}}),c=e._export_sfc(d,[["__scopeId","data-v-871de972"]]);wx.createPage(c);
