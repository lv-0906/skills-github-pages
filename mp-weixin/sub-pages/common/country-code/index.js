"use strict";const e=require("../../../common/vendor.js"),o=require("../../../local/index.js");require("../../../hooks/uni-hooks/new-dialog.js"),require("../../../store/modules/app.js"),require("../../../store/modules/device.js"),require("../../../store/modules/order.js"),require("../../../store/modules/user.js");const r=require("../../../const/emit.js");require("../../../utils/uniAsync.js"),require("../../../utils/wx.log.js"),require("../../../utils/config/index.js"),require("../../../hooks/uni-hooks/dialog.js"),require("../../../hooks/uni-hooks/request.js");const s=require("../../../hooks/uni-hooks/router.js");require("../../../hooks/uni-hooks/wechat.js");const u=require("../../../hooks/useCountryCode.js");if(require("../../../hooks/uni-hooks/unite.js"),require("../../../const/platform.js"),require("../../../shared/cache.js"),require("../../../const/cache.js"),require("../../../hooks/uni-hooks/cache.js"),require("../../../utils/config/env.js"),require("../../../uni_modules/mot-utils/index.js"),require("../../../theme/hooks/useTheme.js"),require("../../../theme/hooks/themeConfig.js"),require("../../../theme/hooks/themeKeys.js"),require("../../../api/device.js"),require("../../../api/order.js"),require("../../../api/user.js"),require("../../../const/order.js"),require("../../../hooks/usePromise.js"),require("../../../api/delivery.js"),require("../../../shared/device.js"),require("../../../const/common.js"),require("../../../utils/appEnterVerif.js"),require("../../../hooks/use-common.js"),require("../../../hooks/uni-hooks/loading.js"),require("../../../hooks/uni-hooks/common.js"),require("../../../utils/url.js"),require("../../../hooks/uni-hooks/report.js"),require("../../../api/data.js"),!Array){e.resolveComponent("mot-modal")()}Math;const i=e.defineComponent({__name:"index",setup(i){const t=e.reactive({from:"",countryCode:""}),n=e.ref(""),{countryList:a,setCountryList:c}=u.useCountryCode(),l=e.ref([]),d=e.computed((()=>{const e=l.value.filter((e=>e.show&&e.code!==t.countryCode)),o=l.value.find((e=>e.code===t.countryCode));return o&&e.unshift(o),console.log(e.length,l.value.length),e})),h=()=>{l.value=a.value.map((e=>({...e,text:`${e.name}-${e.enName}`,value:e.code,show:!0})))},q=e=>e===t.countryCode,j={login:r.EMIT_UPDATE_LOGIN_AREACODE,deposit:r.EMIT_UPDATE_DEPOSIT_AREACODE},m=()=>{console.log("进入searchKey.value",n.value),l.value.forEach((e=>{e.show=e.text.indexOf(n.value)>-1}))},v=e.ref();return e.onLoad((async o=>{const{country:r,from:s}=o||{};t.countryCode=r,t.from=s,(async()=>{a.value.length||await c(),h()})(),await e.nextTick$1()})),(r,u)=>({a:e.unref(o.t)("sub-pages.common.country-code.1"),b:e.o([o=>e.isRef(n)?n.value=o.detail.value:null,m]),c:e.unref(n),d:e.f(e.unref(d),((r,u,i)=>e.e({a:e.t(r.text),b:q(r.value)},q(r.value)?{c:e.t(e.unref(o.t)("sub-pages.common.country-code.2")),d:q(r.value)?1:""}:{},{e:e.t(r.tel),f:q(r.value)?1:"",g:r.value,h:e.o((o=>{return u=r.value,t.countryCode=u,e.index.$emit(j[t.from],u),void s.navigateBack();var u}),r.value)}))),e:e.sr(v,"c4a2c98c-0",{k:"ModalRef"}),f:e.p({id:"ModalRef"})})}}),t=e._export_sfc(i,[["__scopeId","data-v-c4a2c98c"]]);wx.createPage(t);
