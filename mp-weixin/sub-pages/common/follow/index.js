"use strict";const e=require("../../../common/vendor.js"),o=require("../../../local/index.js");require("../../../hooks/uni-hooks/new-dialog.js"),require("../../../store/modules/app.js");const r=require("../../../store/modules/device.js");require("../../../store/modules/order.js");const s=require("../../../store/modules/user.js"),i=require("../../../utils/common.js");require("../../../utils/uniAsync.js"),require("../../../utils/wx.log.js"),require("../../../utils/config/index.js"),require("../../../hooks/uni-hooks/dialog.js"),require("../../../hooks/uni-hooks/request.js");const u=require("../../../hooks/uni-hooks/router.js");require("../../../hooks/uni-hooks/wechat.js"),require("../../../hooks/useCountryCode.js");const n=require("../../../api/user.js");if(require("../../../hooks/uni-hooks/unite.js"),require("../../../const/platform.js"),require("../../../shared/cache.js"),require("../../../const/cache.js"),require("../../../hooks/uni-hooks/cache.js"),require("../../../utils/config/env.js"),require("../../../uni_modules/mot-utils/index.js"),require("../../../theme/hooks/useTheme.js"),require("../../../theme/hooks/themeConfig.js"),require("../../../theme/hooks/themeKeys.js"),require("../../../api/device.js"),require("../../../api/order.js"),require("../../../const/order.js"),require("../../../hooks/usePromise.js"),require("../../../api/delivery.js"),require("../../../shared/device.js"),require("../../../const/common.js"),require("../../../utils/appEnterVerif.js"),require("../../../hooks/use-common.js"),require("../../../hooks/uni-hooks/loading.js"),require("../../../hooks/uni-hooks/common.js"),require("../../../utils/url.js"),require("../../../hooks/uni-hooks/report.js"),require("../../../api/data.js"),!Array){(e.resolveComponent("mot-button")+e.resolveComponent("mot-modal"))()}Math||(t+(()=>"../../../uni_modules/mot-button/components/mot-button/mot-button.js")+(()=>"../../../uni_modules/mot-modal/components/mot-modal/mot-modal.js"))();const t=()=>"../../../wchatComponents/follow-official/index.js",a=e.defineComponent({__name:"index",setup(t){let a=!1;const d=s.useUserStore(),c=r.useDeviceStore(),l=e.reactive({hasError:!1});e.onLoad((()=>{p()})),e.onShow((()=>{e.index.hideHomeButton()})),e.onUnload((()=>{a=!0}));const m=()=>{l.hasError=!0},h=()=>{console.log("[ cbLoad ] >")},j=()=>{u.reLaunch("/sub-pages/order/pending/index")},q=async()=>{const e=await n.userApi.get(void 0,!1,!1),{follow:o}=e||{};if(!o&&!a)return await i.sleep(.2),void(await q());d.setUserInfo(e),o&&c.goNextPage(1,{routeway:u.redirectTo,nearby:!0,follow:!0})},p=async()=>{q()},f=e=>{u.reLaunch(e||"/pages/v1/index/index")},k=e.ref();return(r,s)=>e.e({a:e.o(h),b:e.o(m),c:e.unref(l).hasError},e.unref(l).hasError?{d:e.t(e.unref(o.t)("pages.common.follow.index.3")),e:e.o(f),f:e.p({shape:"square",isBlock:!0}),g:e.t(e.unref(o.t)("pages.common.follow.index.4")),h:e.o(j),i:e.p({shape:"square",isBlock:!0}),j:e.t(e.unref(o.t)("pages.common.follow.index.5")),k:e.t(e.unref(o.t)("pages.common.follow.index.6")),l:e.t(e.unref(o.t)("pages.common.follow.index.7"))}:{},{m:e.sr(k,"9126d8a8-3",{k:"ModalRef"}),n:e.p({id:"ModalRef"})})}}),d=e._export_sfc(a,[["__scopeId","data-v-9126d8a8"]]);wx.createPage(d);
