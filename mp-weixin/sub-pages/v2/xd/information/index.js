"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../../utils/clone.js");require("../../../../local/index.js");const o=require("../../../../utils/is.js");require("../../../../utils/uniAsync.js"),require("../../../../utils/wx.log.js"),require("../../../../utils/config/index.js"),require("../../../../hooks/uni-hooks/new-dialog.js"),require("../../../../store/modules/app.js"),require("../../../../store/modules/device.js"),require("../../../../store/modules/order.js");const u=require("../../../../store/modules/user.js"),t=require("../../../../hooks/uni-hooks/dialog.js");require("../../../../hooks/uni-hooks/request.js");const i=require("../../../../hooks/uni-hooks/router.js");require("../../../../hooks/uni-hooks/wechat.js"),require("../../../../hooks/useCountryCode.js");const n=require("../../../../hooks/business/use-jd-info-check.js");if(require("../../../../hooks/uni-hooks/unite.js"),require("../../../../const/platform.js"),require("../../../../shared/cache.js"),require("../../../../const/cache.js"),require("../../../../hooks/uni-hooks/cache.js"),require("../../../../utils/config/env.js"),require("../../../../uni_modules/mot-utils/index.js"),require("../../../../theme/hooks/useTheme.js"),require("../../../../theme/hooks/themeConfig.js"),require("../../../../theme/hooks/themeKeys.js"),require("../../../../api/device.js"),require("../../../../api/order.js"),require("../../../../api/user.js"),require("../../../../const/order.js"),require("../../../../hooks/usePromise.js"),require("../../../../api/delivery.js"),require("../../../../shared/device.js"),require("../../../../const/common.js"),require("../../../../utils/appEnterVerif.js"),require("../../../../hooks/use-common.js"),require("../../../../hooks/uni-hooks/loading.js"),require("../../../../hooks/uni-hooks/common.js"),require("../../../../utils/url.js"),require("../../../../hooks/uni-hooks/report.js"),require("../../../../api/data.js"),require("../../../../utils/format.js"),!Array){(e.resolveComponent("mot-button")+e.resolveComponent("mot-modal"))()}Math||(s+(()=>"../../../../uni_modules/mot-button/components/mot-button/mot-button.js")+(()=>"../../../../uni_modules/mot-modal/components/mot-modal/mot-modal.js"))();const s=()=>"./components/number-controll.js",a=e.defineComponent({__name:"index",setup(s){const a=u.useUserStore(),l=e.ref({hight:void 0,length:void 0,width:void 0,name:"",quantity:"1",remark:"",weight:"1",volume:1}),{blurContent:h}=n.useJdInfoCheck(l),m=e.ref(""),d=e.ref(!1);e.onLoad((()=>{var e,r;(e=>{const{hight:r,length:o,width:u,name:t="",quantity:i="1",remark:n="",weight:s="1"}=e;l.value.name=t,l.value.quantity=i,l.value.remark=n,l.value.weight=s,l.value.hight=r,l.value.length=o,l.value.width=u})(((null==(r=null==(e=a.jdOrderOpt)?void 0:e.data)?void 0:r.cargoes)||[])[0]||{})}));const v=["文件","衣服","礼品","电子数码","食品","服饰","鞋子","护肤品","五金配件"],c=()=>{m.value||(d.value=!1)},q=e=>{e&&!o.isWhitespaceString(e)?(l.value.name=e,m.value=""):t.toast("请输入正确格式物品类型")},f=()=>{l.value.name=""},j=e.computed((()=>{const{length:e,width:r,hight:o}=l.value;return e&&r&&o||!e&&!r&&!o})),g=()=>{var e;if(!(l.value.name?!(o.isWhitespaceString(l.value.name,"请输入正确格式的物品类型")||(l.value.quantity?l.value.weight?!j.value&&(t.toast("请补充物品体积"),1):(t.toast("请填写物品重量"),1):(t.toast("请填写物品数量"),1))):(t.toast("请选择物品类型"),!1)))return;const{volume:u,weight:n,quantity:s,hight:h,length:m,width:d}=l.value;l.value.volume=m&&d&&h?Number((m*d*h).toFixed(3)):1,l.value.weight=Number(n),l.value.quantity=Number(s),l.value.hight=h?Number(h):void 0,l.value.length=m?Number(m):void 0,l.value.width=d?Number(d):void 0;const v=(null==(e=a.jdOrderOpt)?void 0:e.data)||{},c=r.deepClone(v);c.cargoes=[l.value],a.setJdOrderOpt({data:c}),i.navigateBack()},k=e.ref();return(r,o)=>e.e({a:!e.unref(l).name},e.unref(l).name?{}:e.e({b:e.o((e=>d.value=!0)),c:e.o(c),d:e.o((r=>q(e.unref(m)))),e:e.unref(m),f:e.o((r=>e.isRef(m)?m.value=r.detail.value:null)),g:e.unref(d)},e.unref(d)?{h:e.o((r=>q(e.unref(m))))}:{}),{i:!e.unref(l).name},e.unref(l).name?{}:{j:e.f(v,((r,o,u)=>({a:e.t(r),b:r,c:e.o((e=>q(r)),r)})))},{k:e.unref(l).name},e.unref(l).name?{l:e.t(e.unref(l).name),m:e.o(f)}:{},{n:e.o(e.unref(h)),o:e.o((r=>e.unref(l).quantity=r)),p:e.p({unit:"件",keyValue:"quantity",maxlength:2,min:1,max:99,modelValue:e.unref(l).quantity}),q:e.o(e.unref(h)),r:e.o((r=>e.unref(l).weight=r)),s:e.p({unit:"kg",keyValue:"weight",maxlength:6,min:1,max:999,modelValue:e.unref(l).weight}),t:e.o((r=>e.unref(h)("length"))),v:e.unref(l).length,w:e.o((r=>e.unref(l).length=r.detail.value)),x:e.o((r=>e.unref(h)("width"))),y:e.unref(l).width,z:e.o((r=>e.unref(l).width=r.detail.value)),A:e.o((r=>e.unref(h)("hight"))),B:e.unref(l).hight,C:e.o((r=>e.unref(l).hight=r.detail.value)),D:e.o((r=>e.unref(i.navigateTo)("/sub-pages/v2/xd/rule/index"))),E:e.o((r=>e.unref(h)("remark"))),F:e.unref(l).remark,G:e.o((r=>e.unref(l).remark=r.detail.value)),H:e.p({type:"default",isBlock:!0}),I:e.o(g),J:e.sr(k,"215ea9d7-3",{k:"ModalRef"}),K:e.p({id:"ModalRef"})})}}),l=e._export_sfc(a,[["__scopeId","data-v-215ea9d7"]]);wx.createPage(l);
