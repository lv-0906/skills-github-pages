"use strict";const e=require("../../../../common/vendor.js"),r=require("../../../../utils/format.js");require("../../../../local/index.js"),require("../../../../hooks/uni-hooks/new-dialog.js"),require("../../../../store/modules/app.js"),require("../../../../store/modules/device.js"),require("../../../../store/modules/order.js"),require("../../../../store/modules/user.js"),require("../../../../hooks/uni-hooks/dialog.js"),require("../../../../hooks/uni-hooks/request.js");const o=require("../../../../const/jd.js");require("../../../../hooks/uni-hooks/wechat.js");const s=require("../../../../api/delivery.js");require("../../../../hooks/useCountryCode.js");const i=require("../../../../hooks/use-mix.js");require("../../../../utils/uniAsync.js"),require("../../../../utils/wx.log.js");const u=require("../../../../utils/config/index.js"),n=require("../../../../hooks/use-keyval/index.js");if(require("../../../../hooks/uni-hooks/unite.js"),require("../../../../const/platform.js"),require("../../../../shared/cache.js"),require("../../../../const/cache.js"),require("../../../../hooks/uni-hooks/cache.js"),require("../../../../utils/config/env.js"),require("../../../../uni_modules/mot-utils/index.js"),require("../../../../theme/hooks/useTheme.js"),require("../../../../theme/hooks/themeConfig.js"),require("../../../../theme/hooks/themeKeys.js"),require("../../../../api/device.js"),require("../../../../api/order.js"),require("../../../../api/user.js"),require("../../../../const/order.js"),require("../../../../hooks/uni-hooks/router.js"),require("../../../../hooks/usePromise.js"),require("../../../../shared/device.js"),require("../../../../const/common.js"),require("../../../../utils/appEnterVerif.js"),require("../../../../hooks/use-common.js"),require("../../../../hooks/uni-hooks/loading.js"),require("../../../../hooks/uni-hooks/common.js"),require("../../../../utils/url.js"),require("../../../../hooks/uni-hooks/report.js"),require("../../../../api/data.js"),require("../../../../utils/precision.js"),require("../../../../const/coupon.js"),!Array){e.resolveComponent("mot-modal")()}Math||(t+(()=>"../../../../uni_modules/mot-modal/components/mot-modal/mot-modal.js"))();const t=()=>"../../../../components/v2/jd/pay-rule/index.js",d=e.defineComponent({__name:"index",setup(t){const{LockerTypeTextMap:d}=n.useKeyval(),a=e.reactive({showSlid:!1,order:{info:{}},records:[],logisticsList:[]}),c=e.computed((()=>{var e;return(null==(e=a.order)?void 0:e.sender_contact)||{}})),l=e.computed((()=>{const{province:e="",city:r="",area:o="",address:s=""}=c.value;return`${e}${r}${o}${s}`})),f=e.computed((()=>{var e;return(null==(e=a.order)?void 0:e.receiver_contact)||{}})),m=e.computed((()=>{const{province:e="",city:r="",area:o="",address:s=""}=f.value;return`${e}${r}${o}${s}`})),j=e.computed((()=>{var e,r,o;return(null==(e=a.order)?void 0:e.cargo_info)&&(null==(r=a.order)?void 0:r.cargo_info.length)?null==(o=a.order)?void 0:o.cargo_info[0]:{}})),h=e.computed((()=>{var e;return(null==(e=a.order)?void 0:e.info)||{}})),p=e.computed((()=>{var e;return(null==(e=a.order)?void 0:e.info)||{}}));e.onLoad((e=>{const{orderId:r}=e||{};q(r)}));const q=async e=>{[a.order,a.records]=await Promise.all([s.DeliveryApi.getLogisticOrderDetail(e),s.DeliveryApi.getLogisticOrderTrackingDetail(e)]);const r=[];a.records.forEach((e=>{const o=r.findIndex((r=>r.status_desc===e.status_desc));-1===o?r.push({status_desc:e.status_desc,list:[e]}):r[o].list.push(e)})),a.logisticsList=r},{order:g,records:k,logisticsList:_}=e.toRefs(a),v=e.ref();return(s,n)=>{var t,q;return e.e({a:e.t(null==(t=e.unref(o.JdOrderStatusMap)[e.unref(g).status])?void 0:t.name),b:`url(${e.unref(u.config).fileBaseUrl}/jd/order_status_line.png)`,c:e.unref(u.config).fileBaseUrl+"/jd/jingdong.png",d:e.t(e.unref(g).kuaidi_num),e:e.unref(u.config).fileBaseUrl+"/jd/order_sender_info.png",f:e.t(e.unref(c).name),g:e.t(e.unref(f).mobile),h:e.t(e.unref(l)),i:e.unref(u.config).fileBaseUrl+"/jd/order_recipient_info.png",j:e.t(e.unref(f).name),k:e.t(e.unref(f).mobile),l:e.t(e.unref(m)),m:e.t(e.unref(j).name),n:e.t(e.unref(j).quantity),o:e.t(e.unref(j).weight),p:e.unref(j).length},e.unref(j).length?{q:e.t(e.unref(j).length),r:e.t(e.unref(j).width),s:e.t(e.unref(j).hight)}:{},{t:e.t(e.unref(h).guaranteeMoney?`物品价值${e.unref(i.useToYuan)(e.unref(h).guaranteeMoney,!1)}元`:"-"),v:e.t(e.unref(j).remark||"-"),w:e.t(e.unref(p).site_name),x:e.t(e.unref(p).site_address),y:e.t(e.unref(p).locker_name),z:e.t(e.unref(d)[e.unref(p).locker_type]),A:e.p({payRule:e.unref(a).order.pay_rule,expressFreeMinutes:null==(q=e.unref(h))?void 0:q.express_free_minutes,showTitle:!1}),B:e.t(e.unref(g).id),C:e.t(e.unref(g).created_at),D:e.t(`${e.unref(i.useToYuan)(e.unref(g).amount,!1)}元`),E:e.t(e.unref(r.numberToZhTime)(e.unref(g).used_time)),F:e.f(e.unref(_),((r,s,i)=>({a:e.unref(u.config).fileBaseUrl+`/jd/${e.unref(o.JdLogisticsStatusMap)[r.status_desc]}.png`,b:e.t(r.status_desc),c:e.f(r.list,((r,o,s)=>({a:e.t(r.operation_time),b:e.t(r.remark),c:r.id}))),d:r.id}))),G:`url(${e.unref(u.config).fileBaseUrl}/jd/logistics_line.png)`,H:e.sr(v,"926a1281-1",{k:"ModalRef"}),I:e.p({id:"ModalRef"})})}}}),a=e._export_sfc(d,[["__scopeId","data-v-926a1281"]]);wx.createPage(a);
