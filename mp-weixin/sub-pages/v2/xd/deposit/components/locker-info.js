"use strict";const e=require("../../../../../common/vendor.js");require("../../../../../local/index.js"),require("../../../../../hooks/uni-hooks/new-dialog.js"),require("../../../../../store/modules/app.js");const o=require("../../../../../store/modules/device.js");require("../../../../../store/modules/order.js"),require("../../../../../store/modules/user.js");const r=require("../../../../../utils/format.js");require("../../../../../utils/uniAsync.js"),require("../../../../../utils/wx.log.js"),require("../../../../../utils/config/index.js");const s=require("../../../../../hooks/uni-hooks/dialog.js");require("../../../../../hooks/uni-hooks/request.js");const i=require("../../../../../hooks/uni-hooks/router.js"),t=require("../../../../../hooks/uni-hooks/wechat.js");require("../../../../../hooks/useCountryCode.js");const u=require("../../../../../hooks/use-keyval/index.js");if(require("../../../../../hooks/uni-hooks/unite.js"),require("../../../../../const/platform.js"),require("../../../../../shared/cache.js"),require("../../../../../const/cache.js"),require("../../../../../hooks/uni-hooks/cache.js"),require("../../../../../utils/config/env.js"),require("../../../../../uni_modules/mot-utils/index.js"),require("../../../../../theme/hooks/useTheme.js"),require("../../../../../theme/hooks/themeConfig.js"),require("../../../../../theme/hooks/themeKeys.js"),require("../../../../../api/device.js"),require("../../../../../api/order.js"),require("../../../../../api/user.js"),require("../../../../../const/order.js"),require("../../../../../hooks/usePromise.js"),require("../../../../../api/delivery.js"),require("../../../../../shared/device.js"),require("../../../../../const/common.js"),require("../../../../../utils/appEnterVerif.js"),require("../../../../../hooks/use-common.js"),require("../../../../../hooks/uni-hooks/loading.js"),require("../../../../../hooks/uni-hooks/common.js"),require("../../../../../utils/url.js"),require("../../../../../hooks/uni-hooks/report.js"),require("../../../../../api/data.js"),require("../../../../../const/coupon.js"),!Array){e.resolveComponent("uni-icons")()}Math;const n=e.defineComponent({__name:"locker-info",props:{data:{type:Object,default:()=>{}},location:{type:String,default:""}},setup(n){const a=n,d=o.useDeviceStore(),{LockerTypeTextMap:c}=u.useKeyval(),l=e.computed((()=>d.cabinet)),h=e.computed((()=>{var e;const o=(null==(e=a.data)?void 0:e.data)||{},{cargoes:r=[]}=o;return(null==r?void 0:r.length)?r[0]:{}})),j=()=>{i.navigateTo("/sub-pages/v2/xd/device-type/index")},q=()=>{t.envEvent.scanCode("jdexpress").then((async e=>{console.log(e,"sceneInfo"),await d.fetchCabinet(e,!0);const{business_model:o}=d.site;if("locker_jd_express"!==o)return s.toast("该网点不支持快递寄件");if(!d.hasFreeCabinet(d.cabinet))return s.toast("该网点暂无可用柜门");i.navigateTo("/sub-pages/v2/xd/device-type/index")})).catch((e=>{console.log(e,"err")}))},k=()=>{i.navigateTo("/sub-pages/v2/xd/information/index")};return(o,s)=>{var i,t,u,a,d,p,m;return e.e({a:n.data.site_id&&!n.data.locker_id},n.data.site_id&&!n.data.locker_id?{b:e.p({type:"right",size:"10",color:"#222"}),c:e.o(j)}:e.e({d:!n.data.locker_order_id},n.data.locker_order_id?{}:{e:e.o(q)}),{f:null==(i=n.data)?void 0:i.site_id},(null==(t=n.data)?void 0:t.site_id)?{g:e.t(n.location),h:e.t(e.unref(r.fullLockerName)(null==(u=n.data)?void 0:u.locker_name,null==(a=e.unref(l))?void 0:a.address)),i:e.t(e.unref(c)[null==(d=n.data)?void 0:d.locker_type]||"")}:{},{j:null==(p=e.unref(h))?void 0:p.name},(null==(m=e.unref(h))?void 0:m.name)?{k:e.t(e.unref(h).name),l:e.t(e.unref(h).quantity)}:{},{m:e.p({type:"right",size:"10",color:"#222"}),n:e.o(k)})}}}),a=e._export_sfc(n,[["__scopeId","data-v-bcc6457f"]]);wx.createComponent(a);
