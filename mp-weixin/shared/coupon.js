"use strict";const o=require("../const/coupon.js");require("../common/vendor.js");const e=require("../local/index.js");require("../hooks/uni-hooks/new-dialog.js"),require("../store/modules/app.js"),require("../store/modules/device.js"),require("../store/modules/order.js"),require("../store/modules/user.js"),require("../utils/uniAsync.js"),require("../utils/wx.log.js"),require("../utils/config/index.js"),require("../hooks/uni-hooks/dialog.js"),require("../hooks/uni-hooks/request.js"),require("../hooks/uni-hooks/wechat.js"),require("../hooks/useCountryCode.js");const u=require("../hooks/use-mix.js");exports.canUseCoupon=function(o,e){const{prepaid:u}=e;return!!(u>0&&o&&o.id)},exports.showCouponText=function({coupon:n,payRule:s}){if(!n||!n.id)return"";const{type:r,money:i}=n,{prepaid:t}=s||{};return r===o.CouponTypeEnum.MONEY?`${e.t("shared.coupon.4")}${u.useToYuan(t>i?i:t)}`:r===o.CouponTypeEnum.TIME?`${e.t("const.coupon.12")}`:r===o.CouponTypeEnum.DAY?`${e.t("shared.coupon.10")}${u.useToYuan(t)}`:""},exports.showOrderCouponMoney=function(n){if(!n)return;const{money:s,coupon:r}=n;return r.type===o.CouponTypeEnum.TIME?`(${e.t("components.business.pay-popup.index.5")}${r.time}${e.t("common.unit.minute")})`:r.type===o.CouponTypeEnum.DAY||r.money-s>=0?`(${e.t("shared.coupon.15")}${u.useToYuan(s)})`:`(${e.t("shared.coupon.15")}${u.useToYuan(r.money)})`};
