"use strict";const e=require("../../../../common/vendor.js"),t=e.defineComponent({options:{virtualHost:!0},__name:"mot-sticky",props:{offsetTop:{type:Number,default:0},unit:{type:String,default:"px"},zIndex:{type:Number,default:1e3},stickyShow:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},containerId:{type:String,default:"sticky"}},emits:["changeShow"],setup(t,{emit:o}){const n=t;e.useCssVars((o=>({e3e6d9d4:t.zIndex,"1081936d":e.unref(r)})));const s="mot-sticky",a=e.ref([s,"hidden"]),r=e.computed((()=>n.offsetTop+n.unit));e.onMounted((()=>{if(n.disabled)return;e.computed((()=>n.stickyShow)).value?i():a.value=c(["show"])}));const i=async()=>{var t;let s=!0;const r=null==(t=e.getCurrentInstance())?void 0:t.parent;if(!r)return;const i=e.index.createIntersectionObserver(r,{thresholds:[.95,.98,1]});i.relativeToViewport({top:-n.offsetTop}),i.observe(`#${n.containerId}`,(e=>{const{top:t}=e.boundingClientRect;s?s=!1:(console.log("top",t,n.offsetTop),t>n.offsetTop||t===n.offsetTop?(a.value=c(["hidden","opactiy-transition"]),o("changeShow",!1)):(a.value=c(["show","opactiy-transition"]),o("changeShow",!0)))}))},c=e=>[s,...e];return(t,o)=>({a:e.n(a.value),b:e.s(t.__cssVars())})}}),o=e._export_sfc(t,[["__scopeId","data-v-06ce7216"]]);wx.createComponent(o);
