"use strict";const e=require("../../../../common/vendor.js");require("../../../../store/modules/app.js");const r=require("../../../../store/modules/device.js");require("../../../../store/modules/order.js");const s=require("../../../../store/modules/user.js");require("../../../../local/index.js"),require("../../../../hooks/uni-hooks/new-dialog.js"),require("../../../../utils/uniAsync.js"),require("../../../../utils/wx.log.js"),require("../../../../utils/config/index.js");const o=require("../../../../hooks/uni-hooks/dialog.js");require("../../../../hooks/uni-hooks/request.js");const i=require("../../../../hooks/uni-hooks/router.js");require("../../../../hooks/uni-hooks/wechat.js");const u=require("../../../../api/order.js");require("../../../../hooks/useCountryCode.js");const d=r.useDeviceStore(),n=s.useUserStore();exports.useDelivery=()=>{const{business_model:r}=d.site,s=e.computed((()=>{var e;return"locker_express"===r&&"express"===(null==(e=n.sceneInfo)?void 0:e.page)})),t=e=>{i.navigateTo("/sub-pages/v2/delivery-detail/index?orderId="+e)};return{isFromDelivery:s,DeliveryOrderResult:async e=>{const r=await u.orderApi.getPreOrders(e);let{order:s}=r||{};(null==s?void 0:s.id)?t(s.id):o.dialog.alert("请确认是否下单成功，如有疑问请联系客服").then((()=>{i.goHome()}))},openEmbeddedMiniProgramDelivery:r=>{e.wx$1.openEmbeddedMiniProgram({appId:"wxf772255062165d94",path:`/pages/index/index?source=thirdMiniSend&mailId=170374310985728&thridExpid=${r}`})}}};
