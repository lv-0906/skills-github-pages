"use strict";const e=require("../../../common/vendor.js"),o=require("../../../utils/dayjs.js"),u=require("../../../local/index.js");require("../../../hooks/uni-hooks/new-dialog.js"),require("../../../store/modules/app.js"),require("../../../store/modules/device.js"),require("../../../store/modules/order.js"),require("../../../store/modules/user.js"),require("../../../hooks/uni-hooks/dialog.js"),require("../../../hooks/uni-hooks/request.js");const n=require("../../../hooks/uni-hooks/router.js"),r=require("../../../const/coupon.js");require("../../../hooks/uni-hooks/wechat.js"),require("../../../hooks/useCountryCode.js");const s=require("../../../hooks/use-mix.js");require("../../../utils/uniAsync.js"),require("../../../utils/wx.log.js");const i=require("../../../utils/config/index.js"),t=require("../../../hooks/use-keyval/index.js");if(require("../../../hooks/uni-hooks/unite.js"),require("../../../const/platform.js"),require("../../../shared/cache.js"),require("../../../const/cache.js"),require("../../../hooks/uni-hooks/cache.js"),require("../../../utils/config/env.js"),require("../../../uni_modules/mot-utils/index.js"),require("../../../theme/hooks/useTheme.js"),require("../../../theme/hooks/themeConfig.js"),require("../../../theme/hooks/themeKeys.js"),require("../../../api/device.js"),require("../../../api/order.js"),require("../../../api/user.js"),require("../../../const/order.js"),require("../../../hooks/usePromise.js"),require("../../../api/delivery.js"),require("../../../shared/device.js"),require("../../../const/common.js"),require("../../../utils/appEnterVerif.js"),require("../../../hooks/use-common.js"),require("../../../hooks/uni-hooks/loading.js"),require("../../../hooks/uni-hooks/common.js"),require("../../../utils/url.js"),require("../../../hooks/uni-hooks/report.js"),require("../../../api/data.js"),require("../../../utils/precision.js"),!Array){(e.resolveComponent("mot-button")+e.resolveComponent("uni-icons"))()}Math||((()=>"../../../uni_modules/mot-button/components/mot-button/mot-button.js")+(()=>"../../../uni_modules/uni-icons/components/uni-icons/uni-icons.js"))();const p=e.defineComponent({__name:"coupon-list-item",props:{coupon:{type:Object,default:()=>{}},type:{type:String,default:"common"},active:{type:Boolean,default:!1}},setup(p){const c=p,{couponTypeMap:m,CouponTypeEnumMap:a,CouponStatusEnumMap:l}=t.useKeyval(),d=e.computed((()=>{var e;return i.config.fileBaseUrl+(1===(null==(e=c.coupon)?void 0:e.channel)?"/coupon/common-coupon.png":"/coupon/vip-coupon.png")})),h=e.ref(!1),j=e=>{h.value=!h.value};return(t,f)=>{var q,v,y;return e.e({a:e.unref(d),b:e.t(e.unref(a)[null==(q=p.coupon)?void 0:q.channel]),c:e.n(1===p.coupon.channel?"common":"vip"),d:p.coupon.type===e.unref(r.CouponTypeEnum).MONEY},p.coupon.type===e.unref(r.CouponTypeEnum).MONEY?{e:e.t(e.unref(i.config).moneyUnit||"$"),f:e.t(e.unref(s.useToYuan)(p.coupon.money,!1))}:p.coupon.type===e.unref(r.CouponTypeEnum).TIME?{h:e.t(p.coupon.time),i:e.t(e.unref(u.t)("common.unit.minute"))}:{j:e.t(e.unref(u.t)("components.v1.coupon.vip-coupon-popup.4"))},{g:p.coupon.type===e.unref(r.CouponTypeEnum).TIME,k:e.t(e.unref(m)[p.coupon.type]),l:e.t(p.coupon.name),m:"vip"===p.type&&p.coupon.channel===e.unref(r.CouponChannelTypeEnum).GPA&&p.coupon.vip_value},"vip"===p.type&&p.coupon.channel===e.unref(r.CouponChannelTypeEnum).GPA&&p.coupon.vip_value?{n:e.t(e.unref(u.t)("v1.coupon.coupon-list-item.1")),o:e.t(p.coupon.vip_value)}:{},{p:"list"===p.type},"list"===p.type?{q:e.t(e.unref(u.t)("order.detail.desc.used_time")),r:e.o(e.unref(n.goHome)),s:e.p({size:"mini"})}:{},{t:"useless"===p.type},"useless"===p.type?{v:e.t(e.unref(l)[null==(v=p.coupon)?void 0:v.status]),w:e.p({size:"mini",loading:!e.unref(l)[null==(y=p.coupon)?void 0:y.status],type:"info"})}:{},{x:e.t(e.unref(u.t)("components.v1.coupon.coupon-popup.6")),y:e.t(e.unref(o.format)(p.coupon.end_at,e.unref(o.FORMAT_TO_DAY_DOT))),z:e.t(e.unref(u.t)("components.v1.coupon.coupon-popup.7")),A:!e.unref(h)},e.unref(h)?{}:{B:e.t(p.coupon.desc||"-")},{C:e.n(e.unref(h)?"icon-arrow-up-bold":"icon-arrow-down"),D:e.o(j),E:e.unref(h)},e.unref(h)?{F:e.t(p.coupon.desc||"-"),G:e.n("vip"===p.type||"popup"===p.type?"is-more-height":"")}:{},{H:c.active},c.active?{I:e.p({type:"checkmarkempty",size:"16",color:"#fff"})}:{},{J:e.n(p.coupon.disabled?"disabled":"")})}}}),c=e._export_sfc(p,[["__scopeId","data-v-ed1118b6"]]);wx.createComponent(c);
