"use strict";const e=require("../../../common/vendor.js"),o=require("../../../local/index.js"),s=require("../../../const/order.js");require("../../../hooks/uni-hooks/new-dialog.js"),require("../../../store/modules/app.js"),require("../../../store/modules/device.js"),require("../../../store/modules/order.js"),require("../../../store/modules/user.js"),require("../../../utils/uniAsync.js"),require("../../../utils/wx.log.js");const r=require("../../../utils/config/index.js");require("../../../hooks/uni-hooks/dialog.js"),require("../../../hooks/uni-hooks/request.js"),require("../../../hooks/uni-hooks/wechat.js");const n=require("../../../hooks/useThrottle.js");require("../../../hooks/useCountryCode.js");const i=require("../../../theme/hooks/useTheme.js");if(require("../../../hooks/uni-hooks/unite.js"),require("../../../const/platform.js"),require("../../../shared/cache.js"),require("../../../const/cache.js"),require("../../../hooks/uni-hooks/cache.js"),require("../../../utils/config/env.js"),require("../../../uni_modules/mot-utils/index.js"),require("../../../api/device.js"),require("../../../api/order.js"),require("../../../api/user.js"),require("../../../hooks/uni-hooks/router.js"),require("../../../hooks/usePromise.js"),require("../../../api/delivery.js"),require("../../../shared/device.js"),require("../../../const/common.js"),require("../../../utils/appEnterVerif.js"),require("../../../hooks/use-common.js"),require("../../../hooks/uni-hooks/loading.js"),require("../../../hooks/uni-hooks/common.js"),require("../../../utils/url.js"),require("../../../hooks/uni-hooks/report.js"),require("../../../api/data.js"),require("../../../theme/hooks/themeConfig.js"),require("../../../theme/hooks/themeKeys.js"),!Array){e.resolveComponent("mot-modal")()}Math;const u=e.defineComponent({__name:"index",props:{modelValue:{type:Boolean,default:!1},type:{type:Number,default:s.OrderButtonEnum.End}},emits:["update:modelValue","confirm"],setup(u,{emit:t}){const l=u,{themeConfig:c}=i.useTheme(),a=e.computed({get:()=>l.modelValue,set:e=>t("update:modelValue",e)});e.watch((()=>l.modelValue),(async o=>{await e.nextTick$1(),o&&e.nextTick$1((()=>{j()}))}),{immediate:!0});const p=c.value["$bg-color-primary"],d=e.ref(0),m=e.ref(0),h=e.reactive({initX:0,x:0,y:5,areaWidth:100,targetX:0,areaBgColor:p}),f=()=>{v(),t("confirm",{type:l.type}),a.value=!1},q=n.useThrottle((function(e){const{x:o}=e.detail,s=Math.ceil(o);h.x!==s&&(h.x=s)}),100),x=e.getCurrentInstance();console.log(x,"instance");const j=()=>{const o=e.index.createSelectorQuery().in(x.proxy);o.select("#slide-area").boundingClientRect((e=>{e&&(d.value=e.width||0,console.log("元素宽度:",d.value))})).exec(),o.select("#slide-view").boundingClientRect((e=>{e&&(m.value=e.width||0,h.targetX=.74*(d.value-m.value))})).exec()};const g=()=>{const{x:e,targetX:o}=h;console.log("元素宽度:",d.value),console.log("滑块宽度:",m.value),console.log(e,"xxxx"),console.log(o,"xxxx"),e<o?v():f()},k=()=>{console.log("[ onCancel ] >"),g()},v=()=>{e.nextTick$1((()=>{h.x=1,h.y=5,setTimeout((()=>{h.x=0}),100)}))},{x:y,y:C,initX:b,areaWidth:_,areaBgColor:w}=e.toRefs(h);return(n,i)=>e.e({a:u.type===e.unref(s.OrderButtonEnum).Close},u.type===e.unref(s.OrderButtonEnum).Close?{b:e.unref(r.config).fileBaseUrl+"/icon/icon_tip_close.png",c:e.t(e.unref(o.t)("components.business.slide-popup.index.1")),d:e.t(e.unref(o.t)("components.business.slide-popup.index.2")),e:e.t(e.unref(o.t)("components.business.slide-popup.index.3")),f:e.t(e.unref(o.t)("components.business.slide-popup.index.4"))}:{g:e.unref(r.config).fileBaseUrl+"/icon/icon_tip_open.png",h:e.t(e.unref(o.t)("components.business.slide-popup.index.5")),i:e.t(e.unref(o.t)("components.business.slide-popup.index.6")),j:e.t(e.unref(o.t)("components.business.slide-popup.index.7")),k:e.t(e.unref(o.t)("components.business.slide-popup.index.8"))},{l:e.t(u.type===e.unref(s.OrderButtonEnum).Close?e.unref(o.t)("components.business.slide-popup.index.9"):e.unref(o.t)("components.business.slide-popup.index.10")),m:(e.unref(y)>e.unref(b)?e.unref(y)+e.unref(m):0)+"px",n:e.unref(r.config).fileBaseUrl+"/icon/icon_area_box_right.png",o:e.unref(y),p:e.unref(C),q:e.o(((...o)=>e.unref(q)&&e.unref(q)(...o))),r:e.o(g),s:e.o(k),t:e.unref(_)+"%",v:e.unref(w),w:e.o((o=>e.isRef(a)?a.value=o:null)),x:e.p({title:"",showClose:!0,showCancelButton:!1,showConfirmButton:!1,modelValue:e.unref(a)})})}}),t=e._export_sfc(u,[["__scopeId","data-v-3423e578"]]);wx.createComponent(t);
