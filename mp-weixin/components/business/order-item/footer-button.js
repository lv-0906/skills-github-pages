"use strict";const e=require("../../../common/vendor.js"),r=require("../../../const/order.js"),o=require("../../../shared/order.js");require("../../../shared/pay.js");const n=require("../../../local/index.js");require("../../../hooks/uni-hooks/new-dialog.js"),require("../../../store/modules/app.js"),require("../../../store/modules/device.js"),require("../../../store/modules/order.js"),require("../../../store/modules/user.js"),require("../../../utils/uniAsync.js"),require("../../../utils/wx.log.js"),require("../../../utils/config/index.js");const t=require("../../../hooks/uni-hooks/dialog.js");if(require("../../../hooks/uni-hooks/request.js"),require("../../../hooks/uni-hooks/wechat.js"),require("../../../hooks/useCountryCode.js"),require("../../../hooks/uni-hooks/router.js"),require("../../../hooks/useWechatSI.js"),require("../../../shared/device.js"),require("../../../const/common.js"),require("../../../hooks/use-keyval/index.js"),require("../../../const/coupon.js"),require("../../../utils/is.js"),require("../../../const/platform.js"),require("../../../hooks/uni-hooks/unite.js"),require("../../../hooks/usePromise.js"),require("../../../api/order.js"),require("../../../shared/cache.js"),require("../../../const/cache.js"),require("../../../hooks/uni-hooks/cache.js"),require("../../../utils/config/env.js"),require("../../../uni_modules/mot-utils/index.js"),require("../../../theme/hooks/useTheme.js"),require("../../../theme/hooks/themeConfig.js"),require("../../../theme/hooks/themeKeys.js"),require("../../../api/device.js"),require("../../../api/user.js"),require("../../../api/delivery.js"),require("../../../utils/appEnterVerif.js"),require("../../../hooks/use-common.js"),require("../../../hooks/uni-hooks/loading.js"),require("../../../hooks/uni-hooks/common.js"),require("../../../utils/url.js"),require("../../../hooks/uni-hooks/report.js"),require("../../../api/data.js"),!Array){e.resolveComponent("mot-button")()}Math;const u=e.defineComponent({__name:"footer-button",props:{order:{type:Object,default:()=>({})}},emits:["cbClick"],setup(u,{emit:s}){const i=u,d=e.computed((()=>{var e,o,n,t;const{order:u}=i;return(null==(e=null==u?void 0:u.pay_rule)?void 0:e.type)!==r.OrderRentTypeEnum.Count&&u.status===r.OrderStatusEnum.Progressing||(null==(o=null==u?void 0:u.pay_rule)?void 0:o.type)===r.OrderRentTypeEnum.Count&&(null==(t=null==(n=null==u?void 0:u.pay_rule)?void 0:n.cost)?void 0:t.owing_time_type)===r.rulesExpiredTypeEnum.PAY&&u.status===r.OrderStatusEnum.Progressing})),a=(e,u)=>{if(e!==r.OrderButtonEnum.Renew){if(u.fetch_type===r.DepositTypeEnum.FacePad)return t.dialog.showModal({content:n.t("business.order-item.footer-button.6"),showCancel:!1});if(u.fetch_type===r.DepositTypeEnum.IdCard)return t.dialog.showModal({content:n.t("business.order-item.footer-button.7"),showCancel:!1})}const i=![r.OrderButtonEnum.Renew,r.OrderButtonOptionEnum.RenewEnd,r.OrderButtonOptionEnum.End].includes(e);o.scanToConfirm(e,u,i).then((()=>{s("cbClick",{type:e,order:{...u}})}))};return(t,s)=>e.e({a:e.unref(o.isReserve)(u.order)},e.unref(o.isReserve)(u.order)?e.e({b:e.unref(o.showOwing)(u.order)},e.unref(o.showOwing)(u.order)?{c:e.t(e.unref(n.t)("order.detail.btn.close")),d:e.o((o=>a(e.unref(r.OrderButtonOptionEnum).RenewEnd,u.order))),e:e.p({type:"default",shape:"square"}),f:e.t(e.unref(n.t)("order.question.open_store")),g:e.o((o=>a(e.unref(r.OrderButtonOptionEnum).RenewOpen,u.order))),h:e.p({type:"primary",shape:"square"})}:{i:e.t(e.unref(n.t)("order.detail.btn.close")),j:e.o((o=>a(e.unref(r.OrderButtonOptionEnum).End,u.order))),k:e.p({type:"default",shape:"square"}),l:e.t(e.unref(n.t)("order.question.open_store")),m:e.o((o=>a(e.unref(r.OrderButtonOptionEnum).Open,u.order))),n:e.p({type:"primary",shape:"square"})}):e.e({o:e.unref(o.isLongRental)(u.order)},e.unref(o.isLongRental)(u.order)?e.e({p:e.unref(o.showOwing)(u.order)},e.unref(o.showOwing)(u.order)?{q:e.t(u.order.pay_rule.prepaid>0?e.unref(n.t)("order.detail.btn.renewal"):e.unref(n.t)("order.detail.btn.free_renewal")),r:e.o((o=>a(e.unref(r.OrderButtonEnum).Renew,u.order))),s:e.p({type:"warning",plain:!0,shape:"square"})}:{},{t:!e.unref(o.showOwing)(u.order)},e.unref(o.showOwing)(u.order)?{}:{v:e.t(e.unref(n.t)("order.detail.btn.unlock_rental")),w:e.o((o=>a(e.unref(r.OrderButtonEnum).LONG_OPEN,u.order))),x:e.p({type:"default",shape:"square"})}):e.e({y:e.unref(o.showOwing)(u.order)},e.unref(o.showOwing)(u.order)?e.e({z:e.t(u.order.pay_rule.prepaid>0?e.unref(n.t)("order.detail.btn.pay_unlock"):e.unref(n.t)("order.detail.btn.free_unlock")),A:e.t(e.unref(n.t)("order.detail.btn.unlock_rental")),B:e.o((o=>a(e.unref(r.OrderButtonEnum).RenewEnd,u.order))),C:e.p({type:"warning",shape:"square"}),D:e.unref(d)},e.unref(d)?{E:e.t(u.order.pay_rule.prepaid>0?e.unref(n.t)("order.detail.btn.renewal"):e.unref(n.t)("order.detail.btn.free_renewal")),F:e.t(e.unref(n.t)("order.detail.btn.renewal_small")),G:e.o((o=>a(e.unref(r.OrderButtonEnum).Renew,u.order))),H:e.p({type:"warning",plain:!0,shape:"square"})}:{}):u.order.status===e.unref(r.OrderStatusEnum).Progressing?{J:e.t(e.unref(n.t)("order.detail.btn.unlock")),K:e.t(e.unref(o.showUnlockText)(u.order)),L:e.o((o=>a(e.unref(r.OrderButtonEnum).Open,u.order))),M:e.p({type:e.unref(o.enableUnlock)(u.order)?"default":"info",shape:"square",disabled:!e.unref(o.enableUnlock)(u.order)}),N:e.t(e.unref(n.t)("order.detail.btn.end")),O:e.t(e.unref(n.t)("order.detail.btn.end_small")),P:e.o((o=>a(e.unref(r.OrderButtonEnum).End,u.order))),Q:e.p({type:"primary",shape:"square"})}:{},{I:u.order.status===e.unref(r.OrderStatusEnum).Progressing})))}}),s=e._export_sfc(u,[["__scopeId","data-v-0beb52d9"]]);wx.createComponent(s);
